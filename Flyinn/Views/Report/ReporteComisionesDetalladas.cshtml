@model List<Flyinn.Models.Empleado>

<table class="table table-striped table-bordered" id="example3">
    <tbody>
        @if (@Model != null)
        {
            foreach (var item in @Model)
            {
                if (@item.Nombres != "SIN SUPERVISOR" && @item.Nombres != "SIN GERENTE" && @item.Nombres != "SIN COORDINADOR" && @item.Nombres != "SIN PROMOTOR")
                { 
                <tr>
                    <th colspan="3">EMPLEADO</th>
                    <th colspan="2">Cargo</th>                    
                </tr>
                <tr>
                    <td colspan="3">@item.Nombres</td>
                    <td colspan="2">@item.Cargo.Descripcion</td>
                </tr>  
              <tr> <th colspan="5"><div align="center"><strong>Certificados</strong></div></th></tr>
                @*<tr> <th colspan="3"><div align="center">Certificados</div></th></tr>*@
                <tr>
                        <th width="20%"> Codigo </th>
                        <th colspan="3"> Cliente </th>
                        <th> Fecha de Venta </th>                       
               </tr>
                foreach (var certificado in @item.Certificados)
                {
                 
                    <tr>
                        <td width="20%"> @certificado.CodigoCertificado </td>
                        <td colspan="3"> @certificado.nbCliente </td>
                        <td> @certificado.Fecha.ToShortDateString() </td>                        
                    </tr>
                }
                <tr style="background-color: #01A9DB; color: white;"><th style="font-weight:bolder"><div align="center">Cantidad de Certificados</div></th><th colspan="4" style="font-weight:bolder"><div align="center">Monto Total Certificados</div></th></tr>
                <tr style="background-color: #01A9DB; color: black;"><th style="font-weight:bolder"><div align="center">@item.Certificados.Count</div></th><th colspan="4" style="font-weight:bolder"><div align="center">@String.Format("{0:N}", decimal.Parse(Convert.ToString(@item.TotalCertificados)))</div></th></tr>
                <tr></tr>
             <tr><th colspan="5"><div align="center"><strong>Contratos</strong></div></th></tr>
                @*<tr><th colspan="5"><div align="center">Contratos</div></th></tr>*@   
                    <tr>
                        <th> Nro Contrato </th>
                        <th> Cliente </th>
                        <th> Fecha de Venta </th>
                        <th> Fecha Procesable </th>
                        <th> Monto por Certificado </th>
                    </tr>       
                foreach (var contratos in @item.Contratos)
                {
                   
                    <tr>
                        <td> @contratos.NroContrato </td>
                        <td> @contratos.Cliente.Nombres </td>
                        <td> @contratos.FechaCreacion.ToShortDateString() </td>
                        <td> @contratos.FechaProcesable.ToShortDateString() </td>
                        <td> @String.Format("{0:N}", decimal.Parse(Convert.ToString(@contratos.MontoTotal))) </td>
                    </tr>
                }
                <tr style="background-color: #01A9DB; color: white;"><th colspan="5" style="font-weight:bolder"><div align="center">Monto Total Contratos</div></th></tr>
                <tr style="background-color: #01A9DB; color: black;"><th colspan="5" style="font-weight:bolder"><div align="center">@String.Format("{0:N}", decimal.Parse(Convert.ToString(@item.TotalContratos)))</div></th></tr>
                <tr style="height:50px"><th colspan="5"></th></tr>
                }
                }
        }
    </tbody>
</table>

